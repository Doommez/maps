import{_ as g,u as y,a as N,c as w,r,o as h,b as S,w as o,d as e,e as m,f as d,g as $,F as R,h as D,n as B,t as f,i as x,j as F,p as V,k as j,l as H,m as A,q as E,s as O}from"./index-a15332de.js";const C=_=>(V("data-v-1545f253"),_=_(),j(),_),P={class:"navbar"},q=C(()=>d("img",{src:H,alt:"logo"},null,-1)),z=C(()=>d("img",{src:A,alt:"titleLogo"},null,-1)),K={class:"button__text"},U=C(()=>d("span",{class:"button__text"},"Выход",-1)),G={__name:"TheNavbar",setup(_){const i=y(),{logout:u}=F(),{can:b}=N(),n=w(()=>i.options.routes.reduce((s,a)=>(b(...a.meta.permission)&&a.meta.isVisible&&s.push(a),s),[]));return(s,a)=>{const t=r("router-link"),c=r("v-icon"),l=r("v-btn"),v=r("v-list-item"),k=r("v-list"),L=r("v-divider"),T=r("v-navigation-drawer"),I=r("v-layout");return h(),S(I,null,{default:o(()=>[e(T,{permanent:"","expand-on-hover":"","rail-width":"92",rail:"",elevation:"8",width:"300"},{append:o(()=>[e(k,{density:"compact",nav:"",class:"action logout"},{default:o(()=>[e(L,{class:"action__divider"}),e(v,{class:"action__list list"},{default:o(()=>[e(l,{variant:"text",class:"list__button button",onClick:a[0]||(a[0]=p=>m(u)(m(i)))},{default:o(()=>[e(c,{icon:"mdi-logout",class:"button__icon"}),U]),_:1})]),_:1})]),_:1})]),default:o(()=>[d("div",P,[e(t,{to:"/",class:"navbar__img"},{default:o(()=>[q,z]),_:1}),e(k,{density:"compact",nav:"",class:"navbar__action action"},{default:o(()=>[(h(!0),$(R,null,D(m(n),p=>(h(),S(v,{key:p.name,class:"action__list list"},{default:o(()=>[e(t,{to:`${p.path}`,class:"list__link"},{default:o(()=>[e(l,{variant:"text",class:B([{activeLink:s.$route.path===p.path},"list__button button"])},{default:o(()=>[e(c,{icon:`mdi-${p.meta.icon}`,class:"button__icon"},null,8,["icon"]),d("span",K,f(p.meta.titleShort),1)]),_:2},1032,["class"])]),_:2},1032,["to"])]),_:2},1024))),128)),x(s.$slots,"link",{},void 0,!0)]),_:3})])]),_:3})]),_:3})}}},J=g(G,[["__scopeId","data-v-1545f253"]]),M=()=>{const _=y(),i=E(),u=(n,s)=>{const a=Object.keys(s);let t=n;return a.forEach(c=>{const l=t.indexOf(`:${c}`);l!==-1&&(t=t.split(""),t.splice(l,c.length+1,s[c]),t=t.join(""))}),t};return{breadCrumbs:w(()=>{var s,a;const n=_.options.routes.reduce((t,c)=>{var v;if(!((v=c.meta)!=null&&v.titleShort))return t;const l=u(c.path,_.currentRoute.value.params);return i.path.includes(l)&&t.push({path:l,title:c.meta.titleShort,disabled:!1}),t},[]);return(((s=n[n.length-1])==null?void 0:s.disabled)||((a=n[n.length-1])==null?void 0:a.disabled)===!1)&&(n[n.length-1].disabled=!0),n})}};const Q={class:"header"},W={class:"header__title"},X={class:"header__bread-crumbs"},Y={__name:"TheHeader",props:{title:{type:String,default:""}},setup(_){const i=y(),{breadCrumbs:u}=M();return(b,n)=>{const s=r("router-link"),a=r("v-breadcrumbs");return h(),$("div",Q,[d("div",W,f(m(i).currentRoute.value.meta.title?m(i).currentRoute.value.meta.title:_.title),1),x(b.$slots,"default",{},void 0,!0),d("div",X,[e(a,{items:m(u)},{title:o(({item:t})=>[e(s,{to:t.path,class:B({disabled:t.disabled})},{default:o(()=>[O(f(t.title.toUpperCase()),1)]),_:2},1032,["to","class"])]),_:1},8,["items"])])])}}},Z=g(Y,[["__scopeId","data-v-f1eb05d6"]]);const tt={class:"content"},et={class:"content__main"},st={__name:"LayoutDefault",setup(_){return(i,u)=>(h(),$("div",tt,[e(J,{class:"content__navbar"}),e(Z,{class:"content__header"}),d("div",et,[x(i.$slots,"default",{},void 0,!0)])]))}},ot=g(st,[["__scopeId","data-v-eec3e124"]]);export{ot as default};
